---
title: 2016广东省大学生电子设计大赛总结
date: 2016-11-02 22:50:00
tags: 电子设计,比赛
---

2016年广东省大学生电子设计大赛的比赛主题是“健康电子”，比赛时间从5月到8月，有三个月的时间。
从7月开始做准备，我的工作主要包括硬件电路设计、电路板的绘制和底层驱动的编写。

## 硬件电路设计
主控芯片采用STM32的核心板，其他外围元件则采用万用板搭建。该种方法保证了系统的稳定性和灵活性，但搭建的难度也加大（主要是太累了，全部是用飞线手工焊接）。
**运行过程中遇到了几个问题**

 1. STM32有时会卡死。估计是因为:
    a.电路中有电机对电源有干扰
    b.或者是因为当电池电量过低时系统供电不稳定
 2. 系统耗电大。800mAh的电池只能用8小时，估计是因为三极管漏电造成。

## 电路板绘制
虽然时间紧迫，但由于只需绘制电源PCB板，工作量并不多，几天的时间就完成了电源板的绘制。
但其中还是出现了几点错误：

 1. MicroUSB接口引脚定义错误。
 2. 5V开关电源电路设计有错误，输出电压波动很大。

因此，以后的电路设计中应注意

 1. 收集常用的元件封装。
 2. 参考生产厂家的PCB样板。

## 底层程序设计

由于使用STM32作为主控芯片，所以有足够的资源运行uCOSIII实时操作系统。之所以选择uCOSIII实时操作系统，是因为这个操作系统教学资源最多，相比其他的实时操作系统更容易上手。
我选择的是正点原子的开发板教程，由于时间紧迫，并且是第一次使用实时操作系统和STM32单片机，代码写得很粗糙，算法也没有特别考究，不过功能还是实现了。

## 程序烧写
使用SWD模式只需4根线就可以实现程序烧写，分别是SWCLK,SWDIO,3V3和GND。
在SWD模式无法烧写时可以改用ISP烧写，注意BOOT模式的选择。
